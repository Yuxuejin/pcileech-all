# 用户特征配置说明

## 🎯 **最小改动防特征方案**

**保持COE不变，只修改TLP寄存器响应值**

## 🔧 **使用方法**

### 修改用户参数
在 `src/pcileech_tlps128_bar_controller.sv` 文件顶部找到：

```systemverilog
// 用户特征参数 - 修改这些值来防止特征识别
parameter [7:0] USER_SIGNATURE = 8'h00;  // 用户特征签名 (0x00-0xFF)
parameter [3:0] USER_VARIANT = 4'h0;     // 用户变体 (0x0-0xF)
```

### 不同用户使用不同值：

```systemverilog
// 用户1
parameter [7:0] USER_SIGNATURE = 8'h12;
parameter [3:0] USER_VARIANT = 4'h3;

// 用户2  
parameter [7:0] USER_SIGNATURE = 8'h34;
parameter [3:0] USER_VARIANT = 4'h7;

// 用户3
parameter [7:0] USER_SIGNATURE = 8'h56;
parameter [3:0] USER_VARIANT = 4'hA;

// 用户4
parameter [7:0] USER_SIGNATURE = 8'h78;
parameter [3:0] USER_VARIANT = 4'hE;
```

## ✅ **优势**

1. **保持驱动兼容**: 设备ID不变，驱动正常工作
2. **防止特征识别**: 寄存器值不同，无法关联
3. **最小改动**: 只需修改2个参数
4. **简单部署**: 编译烧录即可

## 🔍 **特征差异效果**

### 相同功能，不同特征：
- **CSR_GP_DRIVER_REG**: 0x00000012 vs 0x00000034
- **CSR_HW_IF_CONFIG_REG**: 0x00800030 vs 0x00800070  
- **CSR_FUNC_SCRATCH_REG**: 0x12121212 vs 0x34343434

### 驱动程序看到：
- 设备ID相同 → 正常加载驱动
- 寄存器值不同 → 无法特征关联

## 📋 **部署步骤**

1. **修改参数**: 改变USER_SIGNATURE和USER_VARIANT
2. **编译固件**: 使用Vivado编译
3. **烧录测试**: 确认绿灯亮起
4. **验证驱动**: 检查设备管理器无错误

## ⚠️ **注意事项**

- 不要使用相同的参数值
- 保持设备ID (COE文件) 不变
- 测试每个配置的驱动兼容性

这样既保持了驱动兼容性，又实现了防特征识别！
